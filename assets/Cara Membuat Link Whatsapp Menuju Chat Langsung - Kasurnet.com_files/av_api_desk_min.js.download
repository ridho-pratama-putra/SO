;var smAVApiVersion='4',smloadEventSend=!1,smPlayer=null,playerDivContainer='sm_player',playerUrl='https://player.aniview.com/script/6.1/aniview.js',smWaterfallArr={data:{tags:[]}};var smAniAdConfig={publisherId:'58ff0b58073ef41af820a6ec',channelId:'58ff18ac073ef43d4f259eef',noifsnd:!0,HD:!1,position:playerDivContainer,soundButton:!0,pauseButton:!0,closeButton:!1,errorLimit:30,midrollTime:1};function waterfallFunc(e){e(smWaterfallArr,'56FDx98')};var smSReventsDictionary={'request':'AD_REQUEST','bid':'AD_PLAY','impression':'IMPRESSION','midpoint':'AD_VERIFY','complete':'COMPLETE','click':'AD_CLICK','AdError':'AD_ERROR','vpaidPlayError':'AD_CANCEL','aderror':'AD_ERROR','AdLoaded':'AD_LOAD','startAd':'AD_START','initAd':'AD_INIT',};function smConvertAVtoGeneral(e,i,t){var a=e;if(smSReventsDictionary[e]){a=smSReventsDictionary[e]};SMreportEvent(a,t,i)};function buildAniviewSetupObject(e){if(!document.getElementById(playerDivContainer)){var s=document.createElement('div');s.id=playerDivContainer;s.style.width=e.width.toString()+'px';s.style.height=e.height.toString()+'px';document.body.appendChild(s)};var m=!1;if(e.mid==0&&e.pre==1&&e.post==0){m=!0};if(m){smAniAdConfig.errorLimit=0};printLogs(JSON.stringify(e));smoperational.hftResponseType=e.responseType;smoperational.waterfallStr=e.waterfallId;smMembers.sessionTTL=e.hftRefresh*1000;smoperational.impressionPixel=e.impressionPixel;smoperational.clickPixel=e.clickPixel;smoperational.completePixel=e.completePixel;var c=e.tagList.length,n=0;for(var i=0;i<c;i++){var d=!0;try{d=advertiserKeyWordsFiltering(e.tagList[i].advId)}catch(f){};if(e.tagList[i].tagUrl.indexOf('http')==0&&d){var a=0;if(e.tagList[i].type=='HTML'){a=a+100};a=a+100-n;var t={url:e.tagList[i].tagUrl,asid:e.tagList[i].id.toString(),tagTimeout:e.tagTimeout*1000,priority:e.tagList[i].order,price:a,type:'vast'};t.url=t.url.replace('[SM_PLAYER_ID]',sminternalconfig.playerid);t.url=t.url.replace('[SM_GROUP_ID]',e.groupId);smWaterfallArr.data.tags[n]=t;smTagsObjects[e.tagList[i].id]=e.tagList[i];smTagsObjects[e.tagList[i].id].starttime=0;smTagsObjects[e.tagList[i].id].imptime=0;smTagsObjects[e.tagList[i].id].requests=0;smTagsObjects[e.tagList[i].id].errors=0;smTagsObjects[e.tagList[i].id].impressions=0;smTagsObjects[e.tagList[i].id].completes=0;smTagsObjects[e.tagList[i].id].verifys=0;smTagsObjects[smMainResponse.tagList[i].id].impPixels=smMainResponse.tagList[i].thirdPartyImpressionPixel;smTagsObjects[e.tagList[i].id].dprice=((e.tagList[i].price*smoperational.cpmWeight)/100).toFixed(2);n++}};var l=smWaterfallArr.data.tags;l.sort(function(e,i){return parseFloat(i.price)-parseFloat(e.price)});var g=l.length;for(var i=0;i<g;i++){smWaterfallArr.data.tags[i].priority=i+1};var r=30;if(e.mid>0){r=Math.round(60/(e.mid))};var o=(e.loopNumber>0?!0:!1),p=((e.responseType=='STATIC')&&!o?!0:!1);smAniAdConfig.width=e.width;smAniAdConfig.height=e.height;smAniAdConfig.loop=o;smAniAdConfig.autoPlay=e.autostart;smAniAdConfig.startdelay=r;smAniAdConfig.startmidroll=r;smAniAdConfig.autoSound=e.sound;smAniAdConfig.ref1='';smAniAdConfig.mode=0;smAniAdConfig.logo=!1;smAniAdConfig.lastFrame=p;smAniAdConfig.waterfall=waterfallFunc;smAniAdConfig.preloader={type:'content',link:e.video,poster:'',clickthrough:smoperational.click+e.landing_page};smWaterfallArr.data.onEvent=function(e,i,t){if(e.indexOf('vpaid')==0||e.indexOf('vast')==0){e='aderror'};var a='';try{a=(t?JSON.stringify(t):'')}catch(s){};if(i||e=='impression'){smConvertAVtoGeneral(e,i,a)}};function A(i,a){if(smPlayer){smPlayer.close()};var t=document.getElementById(smAniAdConfig.position);if(t&&t.childNodes.length>0){while(t.childNodes.length>0){t.removeChild(t.childNodes[0])}};if(!document.getElementById(smAniAdConfig.position)){var s=document.createElement('div');s.id=smAniAdConfig.position;s.style.width=e.width.toString()+'px';s.style.height=e.height.toString()+'px';document.body.appendChild(s)};var n=new Date().getTime(),r=document.createElement('script');r.src=i;r.onload=function(){smPlayer=new avPlayer(a);if(!smloadEventSend&&!smoperational.isSentLoad){smoperational.clientVersion=smoperational.clientVersion+'_api_'+smAVApiVersion;var e=new Date().getTime(),i=e-n;SMreportEvent('LOAD',i);smoperational.isSentLoad=!0;smloadEventSend=!0};smPlayer.play(smAniAdConfig)};document.getElementsByTagName('head')[0].appendChild(r)};A(playerUrl,smAniAdConfig)};buildAniviewSetupObject(smMainResponse);if(!smoperational.isSentLoad){SMreportEvent('CDN_CHECK','')};